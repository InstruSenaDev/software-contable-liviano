import"./hoisted.ll0w3Ecl.js";function y(){const o=document.getElementById("signupForm");if(!o){console.error("Formulario no encontrado");return}o.addEventListener("submit",async t=>{t.preventDefault();let e=!0;document.getElementById("first_name_error").textContent="",document.getElementById("last_name_error").textContent="",document.getElementById("email_error").textContent="",document.getElementById("company_error").textContent="",document.getElementById("terms_error").textContent="";const u=localStorage.getItem("userId"),c=/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/,r=document.getElementById("first_name").value;r.trim()===""?(document.getElementById("first_name_error").textContent="Nombres es requerido.",e=!1):c.test(r)||(document.getElementById("first_name_error").textContent="El nombre no debe contener caracteres especiales.",e=!1);const s=document.getElementById("last_name").value;s.trim()===""?(document.getElementById("last_name_error").textContent="Apellidos es requerido.",e=!1):c.test(s)||(document.getElementById("last_name_error").textContent="El apellido no debe contener caracteres especiales.",e=!1);const a=document.getElementById("email").value,g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;a.trim()===""?(document.getElementById("email_error").textContent="El correo es obligatorio.",e=!1):g.test(a)||(document.getElementById("email_error").textContent="El correo debe ser válido (usuario@dominio.com).",e=!1);const m=document.getElementById("company").value;if(m.trim()===""?(document.getElementById("company_error").textContent="La contraseña es obligatoria.",e=!1):m.length<8&&(document.getElementById("company_error").textContent="La contraseña debe tener al menos 8 caracteres.",e=!1),document.getElementById("remember-me").checked||(document.getElementById("terms_error").textContent="Debes aceptar los términos y condiciones.",e=!1),!e)return;const i={first_name:r,last_name:s,email:a,password:m,userId:u};try{const n=await fetch("http://localhost:8080/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),l=await n.json();n.ok?(d("success-modal"),console.log(i,"Usuario registrado exitosamente"),window.location.href="/tUsuarios"):(d("error-modal",l.message),console.error("Error al registrar usuario:",l.message))}catch(n){d("error-modal"),console.error("Error al enviar la solicitud:",n)}})}function d(o){const t=document.getElementById(o);t.classList.remove("hidden"),t.classList.add("opacity-100"),setTimeout(()=>{t.classList.add("opacity-0"),t.classList.remove("opacity-100"),setTimeout(()=>{t.classList.add("hidden")},300)},3e3)}document.getElementById("hidden_password").addEventListener("click",function(){const o=document.getElementById("company"),t=document.getElementById("icon_password"),e=o.getAttribute("type")==="password";o.setAttribute("type",e?"text":"password"),t.src=e?"../../../public/img/white/show eye.svg":"../../../public/img/white/hidden.svg"});document.getElementById("submits").addEventListener("click",()=>{y()});
